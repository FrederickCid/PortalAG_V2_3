@*@page "/formaspagos"*@
@using PortalAG_V2.Shared.Model.Pagos;

<MudDialog Class="h-100">
    <DialogContent>
        <MudGrid>

            <MudItem xs="12">
                <MudGrid Justify="Justify.Center">
                    <MudItem>
                        <MudText Typo="Typo.subtitle1">Codigo cliente</MudText>
                        <MudTextField @bind-Value="idCliente" Margin="Margin.Dense" Variant="Variant.Outlined" Disabled="true"></MudTextField>
                    </MudItem>
                    <MudItem>
                        <MudText Typo="Typo.subtitle1">Nombre</MudText>
                        <MudTextField @bind-Value="razonSocial" Margin="Margin.Dense" Variant="Variant.Outlined" Disabled="true"></MudTextField>
                    </MudItem>
                    <MudItem>
                        <MudText Typo="Typo.subtitle1">Monto a pagar</MudText>
                        <MudTextField @bind-Value="montoPagar" Margin="Margin.Dense" Variant="Variant.Outlined" Disabled="true"></MudTextField>
                    </MudItem>

                </MudGrid>

            </MudItem>
        </MudGrid>

        <MudGrid>
            <MudItem xs="12">
                <MudGrid Justify="Justify.SpaceBetween">
                    <MudItem xs="12">
                        <MudTabs Elevation="2" Rounded="true" ApplyEffectsToContainer="true" PanelClass="pa-6">
                            <MudTabPanel Text="Efectivo">
                                <MudGrid Justify="Justify.Center">
                                    <MudItem>
                                        <MudCard>
                                            <MudCardHeader>
                                                <CardHeaderContent>
                                                    <MudText Typo="Typo.h6">Ingresa informacion de pago en efectivo</MudText>
                                                </CardHeaderContent>
                                            </MudCardHeader>
                                            <MudCardContent>
                                                <MudGrid Justify="Justify.Center">
                                                    <MudItem>
                                                        <MudText Typo="Typo.subtitle1">Fecha</MudText>
                                                        <MudDatePicker Editable="true" @bind-Date="fechaEfectivo"  DateFormat="dd-MM-yyyy" Variant="Variant.Outlined" Margin="Margin.Dense"/>
                                                    </MudItem>
                                                    <MudItem>
                                                        <MudText Typo="Typo.subtitle1">Monto efectivo</MudText>
                                                        <MudNumericField @bind-Value="_monto" Variant="Variant.Outlined" Min="0" HideSpinButtons="true" Margin="Margin.Dense"  OnBlur="IngresoMontoEfectivo" />
                                                    </MudItem>
                                                </MudGrid>
                                            </MudCardContent>
                                        </MudCard>
                                    </MudItem>
                                </MudGrid>
                                @*<MudGrid Justify="Justify.Center" Spacing="1" Class="mt-4">
                                    <MudItem>
                                        <MudButton Variant="Variant.Outlined" Size="Size.Small" Margin="Margin.Dense" Dense="true" Color="Color.Secondary">Cancelar</MudButton>
                                    </MudItem>
                                    <MudItem>
                                        <MudButton Variant="Variant.Outlined" Size="Size.Small" Margin="Margin.Dense" Dense="true" Color="Color.Secondary">Pagar</MudButton>
                                    </MudItem>
                                </MudGrid>*@
                            </MudTabPanel>
                            <MudTabPanel Text="Transferencia" Disabled="_transferencia">
                                <MudGrid Justify="Justify.Center">
                                    <MudItem>
                                        <MudCard>
                                            <MudCardHeader>
                                                <CardHeaderContent>
                                                    <MudText Typo="Typo.h6">Ingresa informacion de la transferencia</MudText>
                                                </CardHeaderContent>
                                            </MudCardHeader>
                                            <MudCardContent>
                                                <MudGrid>
                                                    <MudItem xs="12">
                                                        <MudGrid Justify="Justify.SpaceBetween" Spacing="2">
                                                            <MudItem xs="4">
                                                                <MudText Typo="Typo.subtitle1">Fecha</MudText>
                                                                <MudDatePicker Editable="true" @bind-Date="fechaTransferencia" DateFormat="dd/MM/yyyy" Variant="Variant.Outlined" Margin="Margin.Dense" />
                                                            </MudItem>
                                                            <MudItem xs="4">
                                                                <MudText Typo="Typo.subtitle1">Banco</MudText>
                                                                <MudSelect T="BancosDTO" Variant="Variant.Outlined" Margin="Margin.Dense" Value=bancoSelect Clearable="true" AnchorOrigin="Origin.BottomCenter" TransformOrigin="Origin.BottomCenter"
                                                                ValueChanged="((x) => SeleccionBanco(x))" ToStringFunc="@converterBancos" Dense="true">
                                                                    @foreach (BancosDTO item in listBancos)
                                                                    {
                                                                        <MudSelectItem Value="@item">@item.descripcion</MudSelectItem>
                                                                    }
                                                                </MudSelect>
                                                            </MudItem>
                                                            <MudItem xs="4">
                                                                <MudText Typo="Typo.subtitle1">Monto transferencia</MudText>
                                                                <MudNumericField @bind-Value="_montoTransferencia" Variant="Variant.Outlined" Margin="Margin.Dense" Min="0" HideSpinButtons="true" />
                                                            </MudItem>
                                                        </MudGrid>
                                                    </MudItem>
                                                    <MudItem xs="12">
                                                        <MudGrid Justify="Justify.SpaceBetween" Spacing="2">
                                                            <MudItem xs="4">
                                                                <MudText Typo="Typo.subtitle1">N° Cuenta</MudText>
                                                                <MudTextField  @bind-Value="_nroCuentaTransferencia"  Variant="Variant.Outlined" Margin="Margin.Dense"  InputType="MudBlazor.InputType.Number" />
                                                            </MudItem>
                                                            <MudItem xs="4">
                                                                <MudText Typo="Typo.subtitle1">N° Comprobante</MudText>
                                                                <MudTextField @bind-Value="_nroComprobanteTransferencia" Variant="Variant.Outlined" Margin="Margin.Dense" InputType="MudBlazor.InputType.Number" />
                                                            </MudItem>
                                                            <MudItem xs="4">
                                                                <MudText Typo="Typo.subtitle1">Banco Andes</MudText>
                                                                <MudSelect T="BancosAndesDTO" Variant="Variant.Outlined" Margin="Margin.Dense" Value=bancoAndesSelect Clearable="true" AnchorOrigin="Origin.BottomCenter" TransformOrigin="Origin.BottomCenter"
                                                                ValueChanged="((x) => SeleccionBancoAndes(x))" ToStringFunc="@converterBancosAndes" Dense="true">
                                                                    @foreach (BancosAndesDTO item in listBancosAndes)
                                                                    {
                                                                        <MudSelectItem Value="@item">@item.descripcion - @item.cuentaCorriete</MudSelectItem>
                                                                    }
                                                                </MudSelect>
                                                            </MudItem>
                                                        </MudGrid>
                                                    </MudItem>
                                                    <MudItem xs="12" Class="d-flex align-end">
                                                        <MudGrid Justify="Justify.FlexEnd" Spacing="1">
                                                            <MudItem>
                                                                <MudButton Variant="Variant.Outlined" Size="Size.Small" Margin="Margin.Dense" Dense="true" Color="Color.Secondary" OnClick="AgregarTransferencia">Agregar</MudButton>
                                                            </MudItem>
                                                            <MudItem>
                                                                <MudButton Variant="Variant.Outlined" Size="Size.Small" Margin="Margin.Dense" Dense="true" Color="Color.Secondary">Cancelar</MudButton>
                                                            </MudItem>
                                                        </MudGrid>
                                                    </MudItem>
                                                    <MudItem xs="12">
                                                        <MudGrid Justify="Justify.SpaceEvenly">
                                                            <MudItem xs="12">
                                                                <MudDataGrid T="TransferenciaDTO" Items="@_listTransferencia" Filterable="false" Dense="true" Striped="true" Bordered="true"
                                                                    SortMode="@SortMode.None" Groupable="false">
                                                                    <ToolBarContent>
                                                                        <MudText Typo="Typo.h6">Lista de pagos</MudText>
                                                                    </ToolBarContent>
                                                                    <Columns>
                                                                        <PropertyColumn Property="x => x.lineas" Title="Linea" />
                                                                        <PropertyColumn Property="x => x.fecha" Title="Fecha" />
                                                                        <PropertyColumn Property="x => x.banco" Title="Banco" />
                                                                        <PropertyColumn Property="x => x.montoTarjeta" Title="Monto" />
                                                                        <PropertyColumn Property="x => x.numeroCuenta" Title="Nro Cuenta" />
                                                                        <PropertyColumn Property="x => x.numeroComprobante" Title="Nro Comprobante"/>
                                                                        <PropertyColumn Property="x => x.bancoAndes" Title="Banco Andes"/>
                                                                        <TemplateColumn>
                                                                            <CellTemplate>
                                                                                <MudIconButton Icon="@Icons.Material.Filled.Delete" Size="@Size.Small" OnClick="@(() => BorrarTransferencia(@context.Item))" />
                                                                            </CellTemplate>
                                                                        </TemplateColumn>
                                                                    </Columns>
                                                                </MudDataGrid>
                                                            </MudItem>
                                                        </MudGrid>
                                                    </MudItem>

                                                </MudGrid>

                                            </MudCardContent>
                                        </MudCard>
                                    </MudItem>
                                </MudGrid>
                                @*<MudGrid Justify="Justify.Center" Spacing="1" Class="mt-4">
                                    <MudItem>
                                        <MudButton Variant="Variant.Outlined" Size="Size.Small" Margin="Margin.Dense" Dense="true" Color="Color.Secondary">Cancelar</MudButton>
                                    </MudItem>
                                    <MudItem>
                                        <MudButton Variant="Variant.Outlined" Size="Size.Small" Margin="Margin.Dense" Dense="true" Color="Color.Secondary">Pagar</MudButton>
                                    </MudItem>
                                </MudGrid>*@
                            </MudTabPanel>
                            <MudTabPanel Text="Deposito" Disabled="_deposito">
                                <MudGrid Justify="Justify.Center">
                                    <MudItem>
                                        <MudCard>
                                            <MudCardHeader>
                                                <CardHeaderContent>
                                                    <MudText Typo="Typo.h6">Ingresa informacion de la transferencia</MudText>
                                                </CardHeaderContent>
                                            </MudCardHeader>
                                            <MudCardContent>
                                                <MudGrid>
                                                    <MudItem xs="12">
                                                        <MudGrid Justify="Justify.SpaceBetween" Spacing="2">
                                                            <MudItem xs="4">
                                                                <MudText Typo="Typo.subtitle1">Fecha</MudText>
                                                                <MudDatePicker Editable="true" @bind-Date="fechaDeposito" DateFormat="dd/MM/yyyy" Variant="Variant.Outlined" Margin="Margin.Dense" />
                                                            </MudItem>
                                                            <MudItem xs="4">
                                                                <MudText Typo="Typo.subtitle1">Banco</MudText>
                                                                <MudSelect T="BancosDTO" Variant="Variant.Outlined" Margin="Margin.Dense" Value=bancoSelectDeposito Clearable="true" 
                                                                AnchorOrigin="Origin.BottomCenter" TransformOrigin="Origin.BottomCenter" ValueChanged="((x) => SeleccionBancoDeposito(x))" ToStringFunc="@converterBancos" Dense="true">
                                                                    @foreach (BancosDTO item in listBancos)
                                                                    {
                                                                        <MudSelectItem Value="@item">@item.descripcion</MudSelectItem>
                                                                    }
                                                                </MudSelect> 
                                                            </MudItem>
                                                            <MudItem xs="4">
                                                                <MudText Typo="Typo.subtitle1">Monto deposito</MudText>
                                                                <MudNumericField @bind-Value="_montoDeposito" Variant="Variant.Outlined" Margin="Margin.Dense" Min="0" Max="montoLimite" HideSpinButtons="true" />
                                                            </MudItem>
                                                        </MudGrid>
                                                    </MudItem>
                                                    <MudItem xs="12">
                                                        <MudGrid Justify="Justify.SpaceBetween" Spacing="2">
                                                            <MudItem xs="4">
                                                                <MudText Typo="Typo.subtitle1">N° Cuenta</MudText>
                                                                <MudTextField @bind-Value="_nroCuentaDeposito" Variant="Variant.Outlined" Margin="Margin.Dense"  InputType="MudBlazor.InputType.Number" />
                                                            </MudItem>
                                                            <MudItem xs="4">
                                                                <MudText Typo="Typo.subtitle1">N° Comprobante</MudText>
                                                                <MudTextField @bind-Value="_nroComprobanteDeposito" Variant="Variant.Outlined" Margin="Margin.Dense" InputType="MudBlazor.InputType.Number" />
                                                            </MudItem>
                                                            <MudItem xs="4">
                                                                <MudText Typo="Typo.subtitle1">Banco Andes</MudText>
                                                                <MudSelect T="BancosAndesDTO" Variant="Variant.Outlined" Margin="Margin.Dense" Value=bancoAndesSelect Clearable="true" AnchorOrigin="Origin.BottomCenter" TransformOrigin="Origin.BottomCenter"
                                                                           ValueChanged="((x) => SeleccionBancoAndes(x))" ToStringFunc="@converterBancosAndes" Dense="true">
                                                                    @foreach (BancosAndesDTO item in listBancosAndes)
                                                                    {
                                                                        <MudSelectItem Value="@item">@item.descripcion - @item.cuentaCorriete</MudSelectItem>
                                                                    }
                                                                </MudSelect>
                                                            </MudItem>
                                                        </MudGrid>
                                                    </MudItem>
                                                    <MudItem xs="12" Class="d-flex align-end">
                                                        <MudGrid Justify="Justify.FlexEnd" Spacing="1">
                                                            <MudItem>
                                                                <MudButton Variant="Variant.Outlined" Size="Size.Small" Margin="Margin.Dense" Dense="true" Color="Color.Secondary" OnClick="AgregarDeposito">Agregar</MudButton>
                                                            </MudItem>
                                                            <MudItem>
                                                                <MudButton Variant="Variant.Outlined" Size="Size.Small" Margin="Margin.Dense" Dense="true" Color="Color.Secondary">Cancelar</MudButton>
                                                            </MudItem>
                                                        </MudGrid>
                                                    </MudItem>
                                                    <MudItem xs="12">
                                                        <MudGrid Justify="Justify.SpaceEvenly">
                                                            <MudItem xs="12">
                                                                <MudDataGrid T="TransferenciaDTO" Items="@_listDeposito" Filterable="false" Dense="true" Striped="true" Bordered="true"
                                                                    SortMode="@SortMode.None" Groupable="false">
                                                                    <ToolBarContent>
                                                                        <MudText Typo="Typo.h6">Lista de pagos</MudText>
                                                                    </ToolBarContent>
                                                                    <Columns>
                                                                        <PropertyColumn Property="x => x.lineas" Title="Linea" />
                                                                        <PropertyColumn Property="x => x.fecha" Title="Fecha" />
                                                                        <PropertyColumn Property="x => x.banco" Title="Banco" />
                                                                        <PropertyColumn Property="x => x.montoTarjeta" Title="Monto" />
                                                                        <PropertyColumn Property="x => x.numeroCuenta" Title="Nro Cuenta" />
                                                                        <PropertyColumn Property="x => x.numeroComprobante" Title="Nro Comprobante" />
                                                                            <PropertyColumn Property="x => x.bancoAndes" Title="Banco Andes"/>
                                                                        <TemplateColumn>
                                                                            <CellTemplate>
                                                                                <MudIconButton Icon="@Icons.Material.Filled.Delete" Size="@Size.Small" OnClick="@(() => BorrarDeposito(@context.Item))" />
                                                                            </CellTemplate>
                                                                        </TemplateColumn>
                                                                    </Columns>
                                                                </MudDataGrid>
                                                            </MudItem>
                                                        </MudGrid>
                                                    </MudItem>

                                                </MudGrid>

                                            </MudCardContent>
                                        </MudCard>
                                    </MudItem>
                                </MudGrid>
                                @*<MudGrid Justify="Justify.Center" Spacing="1" Class="mt-4">
                                    <MudItem>
                                        <MudButton Variant="Variant.Outlined" Size="Size.Small" Margin="Margin.Dense" Dense="true" Color="Color.Secondary">Cancelar</MudButton>
                                    </MudItem>
                                    <MudItem>
                                        <MudButton Variant="Variant.Outlined" Size="Size.Small" Margin="Margin.Dense" Dense="true" Color="Color.Secondary">Pagar</MudButton>
                                    </MudItem>
                                </MudGrid>*@
                            </MudTabPanel>
                            <MudTabPanel Text="Tarjetas" Disabled="_tarjetas">
                                <MudGrid Justify="Justify.Center">
                                    <MudItem>
                                        <MudCard>
                                            <MudCardHeader>
                                                <CardHeaderContent>
                                                    <MudText Typo="Typo.h6">Ingresa informacion de tarjeta</MudText>
                                                </CardHeaderContent>
                                            </MudCardHeader>
                                            <MudCardContent>
                                                <MudGrid>
                                                    <MudItem xs="12" Class="ma-0 pa-0">
                                                        <MudGrid Justify="Justify.SpaceBetween" Spacing="2">
                                                            <MudItem xs="4">
                                                                <MudText Typo="Typo.subtitle1">Tipo de tarjeta</MudText>
                                                            </MudItem>
                                                            <MudItem xs="8">
                                                                <MudSelect T="TarjetasDTO" Variant="Variant.Outlined" Margin="Margin.Dense" Value=tarjetaSelect Clearable="true"
                                                                           AnchorOrigin="Origin.BottomCenter" TransformOrigin="Origin.BottomCenter" ValueChanged="((x) => SeleccionTarjeta(x))" ToStringFunc="@converterTarjeta" Dense="true">
                                                                    @foreach (TarjetasDTO item in listTarjetas)
                                                                    {
                                                                        <MudSelectItem Value="@item">@item.cardName</MudSelectItem>
                                                                    }
                                                                </MudSelect>
                                                            </MudItem>
                                                        </MudGrid>
                                                    </MudItem>
                                                    <MudItem xs="12" Class="ma-0 pa-0">
                                                        <MudGrid Justify="Justify.SpaceBetween" Spacing="2">
                                                            <MudItem xs="4">
                                                                <MudText Typo="Typo.subtitle1">Cuenta mayor</MudText>
                                                            </MudItem>
                                                            <MudItem xs="8">
                                                                <MudTextField @bind-Value="_nroCuentaMayor" Variant="Variant.Outlined" Margin="Margin.Dense" InputType="MudBlazor.InputType.Number" ReadOnly="true" />
                                                            </MudItem>
                                                        </MudGrid>
                                                    </MudItem>
                                                    <MudItem xs="12" Class="ma-0 pa-0">
                                                        <MudGrid Justify="Justify.SpaceBetween" Spacing="2">
                                                            <MudItem xs="4">
                                                                <MudText Typo="Typo.subtitle1">Numero de tarjeta</MudText>
                                                            </MudItem>
                                                            <MudItem xs="8">
                                                                <MudTextField @bind-Value="_nroTarjeta" Variant="Variant.Outlined" Margin="Margin.Dense" Mask="@(new PatternMask("0000 0000 0000 0000"))"  />
                                                            </MudItem>
                                                        </MudGrid>
                                                    </MudItem>
                                                    <MudItem xs="12" Class="ma-0 pa-0">
                                                        <MudGrid Justify="Justify.SpaceBetween" Spacing="2">
                                                            <MudItem xs="4">
                                                                <MudText Typo="Typo.subtitle1">Valido hasta</MudText>
                                                            </MudItem>
                                                            <MudItem xs="8">
                                                                <MudDatePicker Editable="true" @bind-Date="fechaValidoHasta" Variant="Variant.Outlined" Margin="Margin.Dense" OpenTo="OpenTo.Year" FixDay="28" DateFormat="MM/yyyy"
                                                                               IsDateDisabledFunc="@((DateTime dt)=>(dt.Year <  @year))" />
                                                            </MudItem>
                                                        </MudGrid>
                                                    </MudItem>
                                                    <MudItem xs="12" Class="ma-0 pa-0">
                                                        <MudGrid Justify="Justify.SpaceBetween" Spacing="2">
                                                            <MudItem xs="4">
                                                                <MudText Typo="Typo.subtitle1">Numero de ID</MudText>
                                                            </MudItem>
                                                            <MudItem xs="8">
                                                                <MudTextField @bind-Value="_nroID" Variant="Variant.Outlined" Margin="Margin.Dense" InputType="MudBlazor.InputType.Number" />
                                                            </MudItem>
                                                        </MudGrid>
                                                    </MudItem>
                                                    <MudItem xs="12" Class="ma-0 pa-0">
                                                        <MudGrid Justify="Justify.SpaceBetween" Spacing="2">
                                                            <MudItem xs="4">
                                                                <MudText Typo="Typo.subtitle1">Numero de telefono</MudText>
                                                            </MudItem>
                                                            <MudItem xs="8">

                                                                <MudTextField @bind-Value="_nroTelefono" Variant="Variant.Outlined" Margin="Margin.Dense" InputType="MudBlazor.InputType.Text" />

                                                            </MudItem>
                                                        </MudGrid>
                                                    </MudItem>
                                                    <MudItem xs="12" Class="ma-0 pa-0">
                                                        <MudGrid Justify="Justify.SpaceBetween" Spacing="2">
                                                            <MudItem xs="4">
                                                                <MudText Typo="Typo.subtitle1">Forma de pago</MudText>
                                                            </MudItem>
                                                            <MudItem xs="8">
                                                                <MudTextField @bind-Value="TextValue" Margin="Margin.Dense" Variant="Variant.Outlined"></MudTextField>
                                                            </MudItem>
                                                        </MudGrid>
                                                    </MudItem>
                                                    <MudItem xs="12" Class="ma-0 pa-0">
                                                        <MudGrid Justify="Justify.SpaceBetween" Spacing="2">
                                                            <MudItem xs="4">
                                                                <MudText Typo="Typo.subtitle1">Importe vencido</MudText>
                                                            </MudItem>
                                                            <MudItem xs="8">
                                                                <MudTextField @bind-Value="_importeVencido" Variant="Variant.Outlined" Margin="Margin.Dense" InputType="MudBlazor.InputType.Number" ReadOnly="true" />
                                                            </MudItem>
                                                        </MudGrid>
                                                    </MudItem>
                                                    <MudItem xs="12" Class="ma-0 pa-0">
                                                        <MudGrid Justify="Justify.SpaceBetween" Spacing="2">
                                                            <MudItem xs="4">
                                                                <MudText Typo="Typo.subtitle1">Cantidad de pagos</MudText>
                                                            </MudItem>
                                                            <MudItem xs="8">
                                                                <MudTextField @bind-Value="_cantidadPagos" OnBlur="CalculoPagosParciales" Variant="Variant.Outlined" Margin="Margin.Dense" InputType="MudBlazor.InputType.Number" />
                                                            </MudItem>
                                                        </MudGrid>
                                                    </MudItem>
                                                    <MudItem xs="12" Class="ma-0 pa-0">
                                                        <MudGrid Justify="Justify.SpaceBetween" Spacing="2">
                                                            <MudItem xs="4">
                                                                <MudText Typo="Typo.subtitle1">Primer pago parcial</MudText>
                                                            </MudItem>
                                                            <MudItem xs="8">

                                                                <MudTextField @bind-Value="_primerPago" Variant="Variant.Outlined" Margin="Margin.Dense" InputType="MudBlazor.InputType.Number" ReadOnly="true" />
                                                            </MudItem>
                                                        </MudGrid>
                                                    </MudItem>
                                                    <MudItem xs="12" Class="ma-0 pa-0">
                                                        <MudGrid Justify="Justify.SpaceBetween" Spacing="2">
                                                            <MudItem xs="4">
                                                                <MudText Typo="Typo.subtitle1">Cada pago adicional</MudText>
                                                            </MudItem>
                                                            <MudItem xs="8">
                                                                <MudTextField @bind-Value="_pagoAdicional" Variant="Variant.Outlined" Margin="Margin.Dense" InputType="MudBlazor.InputType.Number" ReadOnly="true" />
                                                            </MudItem>
                                                        </MudGrid>
                                                    </MudItem>
                                                    <MudItem xs="12" Class="ma-0 pa-0">
                                                        <MudGrid Justify="Justify.SpaceBetween" Spacing="2">
                                                            <MudItem xs="4">
                                                                <MudText Typo="Typo.subtitle1">Nro certific. retenc. impto</MudText>
                                                            </MudItem>
                                                            <MudItem xs="8">
                                                                <MudTextField @bind-Value="_certificado" Variant="Variant.Outlined" Margin="Margin.Dense" InputType="MudBlazor.InputType.Text" />
                                                            </MudItem>
                                                        </MudGrid>
                                                    </MudItem>
                                                    <MudItem xs="12" Class="ma-0 pa-0">
                                                        <MudGrid Justify="Justify.SpaceBetween" Spacing="2">
                                                            <MudItem xs="4">
                                                                <MudText Typo="Typo.subtitle1">Clase de oepracion</MudText>
                                                            </MudItem>
                                                            <MudItem xs="8">
                                                                <MudSelect Margin="Margin.Dense" T="string" Variant="Variant.Outlined" Value="claseOperacionSelect" ValueChanged="((x) => SeleccionClaseOperacion(x))">
                                                                    @foreach (string item in _listClaseOperacion)
                                                                    {
                                                                        <MudSelectItem Value="@item">@item</MudSelectItem>
                                                                    }
                                                                </MudSelect>
                                                            </MudItem>
                                                        </MudGrid>
                                                    </MudItem>
                                                </MudGrid>
                                            </MudCardContent>
                                        </MudCard>
                                    </MudItem>
                                </MudGrid>
                                @*<MudGrid Justify="Justify.Center" Spacing="1" Class="mt-4">
                                    <MudItem>
                                        <MudButton Variant="Variant.Outlined" Size="Size.Small" Margin="Margin.Dense" Dense="true" Color="Color.Secondary">Cancelar</MudButton>
                                    </MudItem>
                                    <MudItem>
                                        <MudButton Variant="Variant.Outlined" Size="Size.Small" Margin="Margin.Dense" Dense="true" Color="Color.Secondary">Pagar</MudButton>
                                    </MudItem>
                                </MudGrid>*@
                            </MudTabPanel>
                            <MudTabPanel Text="Cheques" Disabled="_cheques">
                                <MudGrid Justify="Justify.Center">
                                    <MudItem>
                                        <MudCard>
                                            <MudCardHeader>
                                                <CardHeaderContent>
                                                    <MudText Typo="Typo.h6">Ingresa informacion</MudText>
                                                </CardHeaderContent>
                                            </MudCardHeader>
                                            <MudCardContent>
                                                <MudGrid>
                                                    <MudItem xs="12">
                                                        <MudGrid Justify="Justify.FlexStart" Spacing="2">
                                                            <MudItem xs="4">
                                                                <MudText Typo="Typo.subtitle1">Cuenta mayor</MudText>
                                                                <MudSelect T="CuentaDTO" Margin="Margin.Dense" Variant="Variant.Outlined" Value="cuentaSelect" ValueChanged="((x) => SeleccionCuenta(x))"
                                                                    ToStringFunc="@converterCuenta" Dense="true">
                                                                    @foreach (CuentaDTO item in listCuentas)
                                                                    {
                                                                        <MudSelectItem Value="@item">@item.Descripcion</MudSelectItem>
                                                                    }
                                                                </MudSelect>
                                                            </MudItem>


                                                        </MudGrid>
                                                    </MudItem>
                                                    <MudItem xs="12">
                                                        <MudGrid Justify="Justify.SpaceBetween" Spacing="2">
                                                            <MudItem xs="4">
                                                                <MudText Typo="Typo.subtitle1">Fecha Vencimiento</MudText>
                                                                <MudDatePicker Editable="true" @bind-Date="fechaVencimientoCheque" DateFormat="dd/MM/yyyy" Variant="Variant.Outlined" Margin="Margin.Dense" />
                                                            </MudItem>
                                                            <MudItem xs="4">
                                                                <MudText Typo="Typo.subtitle1">Importe</MudText>
                                                                <MudNumericField @bind-Value="_importe" Min="0" Variant="Variant.Outlined" Margin="Margin.Dense" HideSpinButtons="true" />
                                                            </MudItem>
                                                            <MudItem xs="4">
                                                                <MudText Typo="Typo.subtitle1">Banco</MudText>
                                                                <MudSelect T="BancosDTO" Variant="Variant.Outlined" Margin="Margin.Dense" Value=bancoChqueSelect Clearable="true" AnchorOrigin="Origin.BottomCenter" TransformOrigin="Origin.BottomCenter"
                                                                           ValueChanged="((x) => SeleccionBancoCheque(x))" ToStringFunc="@converterBancos" Dense="true">
                                                                    @foreach (BancosDTO item in listBancos)
                                                                    {
                                                                        <MudSelectItem Value="@item">@item.descripcion</MudSelectItem>
                                                                    }
                                                                </MudSelect>
                                                            </MudItem>

                                                        </MudGrid>
                                                    </MudItem>
                                                    <MudItem xs="12">
                                                        <MudGrid Justify="Justify.SpaceBetween" Spacing="2">
                                                            <MudItem xs="4">
                                                                <MudText Typo="Typo.subtitle1">Sucursal</MudText>
                                                                <MudTextField @bind-Value="_sucursal" Margin="Margin.Dense" Variant="Variant.Outlined"></MudTextField>
                                                            </MudItem>
                                                            <MudItem xs="4">
                                                                <MudText Typo="Typo.subtitle1">Nro cuenta</MudText>
                                                                <MudTextField @bind-Value="_nrocuentaCheque" Margin="Margin.Dense" Variant="Variant.Outlined"></MudTextField>
                                                            </MudItem>
                                                            <MudItem xs="4">
                                                                <MudText Typo="Typo.subtitle1">Nro de cheque</MudText>
                                                                <MudNumericField @bind-Value="_nroCheque" Variant="Variant.Outlined" Margin="Margin.Dense" Min="0" HideSpinButtons="true" />
                                                            </MudItem>
                                                        </MudGrid>
                                                    </MudItem>
                                                    <MudItem xs="12">
                                                        <MudGrid Justify="Justify.FlexEnd" Spacing="1">
                                                            <MudItem>
                                                                <MudButton Variant="Variant.Outlined" Size="Size.Small" Margin="Margin.Dense" Dense="true" Color="Color.Secondary" OnClick="AgregarCheque">Agregar</MudButton>
                                                            </MudItem>
                                                            <MudItem>
                                                                <MudButton Variant="Variant.Outlined" Size="Size.Small" Margin="Margin.Dense" Dense="true" Color="Color.Secondary">Cancelar</MudButton>
                                                            </MudItem> 
                                                        </MudGrid>
                                                    </MudItem>
                                                    <MudItem xs="12">
                                                        <MudGrid Justify="Justify.SpaceEvenly">
                                                            <MudItem xs="12">
                                                                <MudDataGrid T="ChequeDTO" Items="@_listCheques" ColumnResizeMode="ResizeMode.Column" Dense="true"
                                                                             Filterable="false" SortMode="@SortMode.None" Groupable="false"  Striped="true" Bordered="true">
                                                                    <ToolBarContent>
                                                                        <MudText Typo="Typo.h6"></MudText>

                                                                    </ToolBarContent>
                                                                    <Columns>
                                                                        <PropertyColumn Property="x => x.fechaVencimiento" Title="Fecha Vencimiento" />
                                                                        <PropertyColumn Property="x => x.importe" Title="Importe" />
                                                                        <PropertyColumn Property="x => x.banco" Title="Banco" />
                                                                        <PropertyColumn Property="x => x.sucursal" Title="Sucursal" />
                                                                        <PropertyColumn Property="x => x.cuenta" Title="Cuenta" />
                                                                        <PropertyColumn Property="x => x.numeroCheuqe" Title="Nro Cheque" />
                                                                            <TemplateColumn>
                                                                            <CellTemplate>
                                                                                <MudIconButton Icon="@Icons.Material.Filled.Delete" Size="@Size.Small" OnClick="@(() => BorrarCheque(@context.Item))" />
                                                                            </CellTemplate>
                                                                        </TemplateColumn>
                                                                    </Columns>
                                                                </MudDataGrid>
                                                            </MudItem>
                                                        </MudGrid>
                                                    </MudItem>

                                                </MudGrid>

                                            </MudCardContent>
                                        </MudCard>
                                    </MudItem>
                                </MudGrid>
                                @*<MudGrid Justify="Justify.Center" Spacing="1" Class="mt-4">
                                    <MudItem>
                                        <MudButton Variant="Variant.Outlined" Size="Size.Small" Margin="Margin.Dense" Dense="true" Color="Color.Secondary">Cancelar</MudButton>
                                    </MudItem>
                                    <MudItem>
                                        <MudButton Variant="Variant.Outlined" Size="Size.Small" Margin="Margin.Dense" Dense="true" Color="Color.Secondary">Pagar</MudButton>
                                    </MudItem>
                                </MudGrid>*@
                            </MudTabPanel>
                            <MudTabPanel Text="Letras" Disabled="true">
                                <MudText>Letras</MudText>
                            </MudTabPanel>
                        </MudTabs>
                    </MudItem>
                </MudGrid>
            </MudItem>
        </MudGrid>
    </DialogContent>
<DialogActions>
     <MudButton Variant="Variant.Outlined" Size="Size.Small" Margin="Margin.Dense" Dense="true" Color="Color.Secondary" OnClick="Cancel">Cancelar</MudButton>
     <MudButton Variant="Variant.Outlined" Size="Size.Small" Margin="Margin.Dense" Dense="true" Color="Color.Secondary" OnClick="Aceptar">Aceptar</MudButton>
        @*<MudButton OnClick="Cancel">Cancel</MudButton>
        <MudButton Color="Color.Primary" >Aceptar</MudButton>*@
    </DialogActions>
</MudDialog>
